<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Document</title>
</head>
<body>
<form action="">
   <label for="cat">Cat</label><input name="cat" id="cat" type="checkbox">
   <label for="dog">dog</label><input name="dog" type="checkbox">
   <label for="fish">fish</label><input name="fish" type="checkbox">
   <label for="buffalo">buffalo</label><input name="buffalo" type="checkbox">
   <label for="snufflupagus">Snufflupagus</label><input name="snufflupagus" type="checkbox">

   <input type="submit">
   

</form>



   <script>
      const players =  
         {
             "-28KJHUY87687KUY": {
               "Name": "Allen, George",
               "Birth City": "b. Bayfield",
               "Birth ProvinceState": " New Brunswick",
               "Birth Country": "Canada",
               "Birth Date": " July 27",
               "Birth Year": 1914,
               "Death City": "d. Red Deer",
               "Death ProvinceState": " Alberta",
               "Death Country": "Canada",
               "Death Date": " March 27",
               "Death Year": " 2000--Mar 15??",
               "Age at Death": "85 years, 244 days",
               "Age as Fraction": 85.67,
               "Cause of Death": "unknown",
               "Post-Career Work Summary": "entrepreneur/farm equipment",
               "Era": "F-6",
               "NHL Career": "SNLR"
             },
             "-38KJHUY87387KUY": {
               "Name": "Allen, Jake",
               "Birth City": "b. Fredericton",
               "Birth ProvinceState": " New Brunswick",
               "Birth Country": "Canada",
               "Birth Date": " August 7",
               "Birth Year": 1990,
               "Death City": "ACTIVE",
               "Death ProvinceState": "",
               "Death Country": "",
               "Death Date": "",
               "Death Year": "",
               "Age at Death": "",
               "Age as Fraction": null,
               "Cause of Death": "",
               "Post-Career Work Summary": "",
               "Era": "G-M",
               "NHL Career": "ACTIVE"
             },
             "-38KJHUY87689KUY": {
               "Name": "Allen, Keith",
               "Birth City": "b. Saskatoon",
               "Birth ProvinceState": " Saskatchewan",
               "Birth Country": "Canada",
               "Birth Date": " August 21",
               "Birth Year": 1923,
               "Death City": "d. Newtown Square",
               "Death ProvinceState": " Pennsylvania",
               "Death Country": "United States",
               "Death Date": " February 4",
               "Death Year": "2014",
               "Age at Death": "90 years, 167 days",
               "Age as Fraction": 90.46,
               "Cause of Death": "dementia",
               "Post-Career Work Summary": "executive/NHL",
               "Era": "D-6",
               "NHL Career": "calll-up"
             },
             "-38KTHUY87689KUY": {
               "Name": "Allen, Peter",
               "Birth City": "b. Calgary",
               "Birth ProvinceState": " Alberta",
               "Birth Country": "Canada",
               "Birth Date": " March 6",
               "Birth Year": 1970,
               "Death City": "RETIRED",
               "Death ProvinceState": "",
               "Death Country": "",
               "Death Date": "",
               "Death Year": "",
               "Age at Death": "",
               "Age as Fraction": null,
               "Cause of Death": "",
               "Post-Career Work Summary": "",
               "Era": "D-M",
               "NHL Career": "SNLR"
             }
         }

         function acceptibleFormatKeys(data){
            var keys = Object.keys(players);
            var headings = Object.keys(players[keys[0]]);
            var acceptibleHeadings = [];

            headings.map((heading) => {
               //remove spaces and special characters
               const noSpaces = heading.replace(/[^\w]/gi, '').split('');
               //remove first capital and make it lowercase
               const firstLetter = noSpaces.shift().toLowerCase();
               //add lowercase back onto letter array
               noSpaces.unshift(firstLetter);
               const camelCase = noSpaces.join('');
               //push heading into new heading array
               acceptibleHeadings.push(camelCase)
            });
            // console.log(acceptibleHeadings);

            const acceptiblePlayers = {};
            keys.map((key) => {
               let i = 0;
               const newPlayer = {};
               headings.map((heading) => {
                  const value = players[key][heading];
                  const newheadingkey = acceptibleHeadings[i];
                  newPlayer[newheadingkey] = value;
                  i++
               }) 

               acceptiblePlayers[key] = newPlayer;
            });
            var jsonStr = JSON.stringify(acceptiblePlayers);
            document.body.innerHTML = jsonStr;
           return acceptiblePlayers;
         }

function specialHeadingArray(data){
   var keys = Object.keys(players);
   var headings = Object.keys(players[keys[0]]);
   var acceptibleHeadings = [];
      headings.map((heading) => {
         //remove spaces and special characters
         const noSpaces = heading.replace(/[^\w]/gi, '').split('');
         //remove first capital and make it lowercase
         const firstLetter = noSpaces.shift().toLowerCase();
         //add lowercase back onto letter array
         noSpaces.unshift(firstLetter);
         const camelCase = noSpaces.join('');
         //push heading into new heading array
         acceptibleHeadings.push(camelCase)
      });  
   const headingObject = {}
   let i = 0;
   //for each item in the array assign it to the obj[i] = item
   headings.map((heading) => {
      var headingDetails = {};
      headingDetails["name"] = acceptibleHeadings[i];
      headingDetails["label"] = heading;
      headingObject[i] = headingDetails;
      i++;
   });
   var jsonStr = JSON.stringify(headingObject);
   document.body.innerHTML = jsonStr;
   return headingObject;
}
        
// {
// 0:"Name",
// 1:"Birth City",
// 2:"Birth ProvinceState",
// 3:"Birth Country",
// 4:"Birth Date",
// 5:"Birth Year",
// 6:"Death City",
// 7:"Death ProvinceState",
// 8:"Death Country",
// 9:"Death Date",
// 10:"Death Year",
// 11:"Age at Death",
// 12:"Age as Fraction",
// 13:"Cause of Death",
// 14:"Post-Career Work Summary",
// 15:"Era",
// 16:"NHL Career",
// }

   </script>
</body>
</html>




